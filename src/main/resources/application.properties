# ============================================
# CONFIGURACIÓN DE NEXUSPOS BACKEND
# ============================================

# --- INFORMACIÓN DE LA APLICACIÓN ---
spring.application.name=nexus-pos-backend

# --- PUERTO DEL SERVIDOR ---
# ¿Por qué 8080? Es el estándar para APIs REST
# Tu frontend (React) correrá en puerto 3000
# Tu backend (Spring Boot) correrá en puerto 8080
server.port=8080

# --- CONFIGURACIÓN DE BASE DE DATOS POSTGRESQL ---
# Cambia estos valores según tu configuración local

# URL de conexión
# jdbc:postgresql://localhost:5432/nexuspos_db
# ¿Qué significa?
# - localhost: base de datos en tu computadora
# - 5432: puerto por defecto de PostgreSQL
# - nexuspos_db: nombre de la base de datos (la crearemos)
spring.datasource.url=jdbc:postgresql://localhost:5432/nexuspos_db

# Usuario de PostgreSQL (por defecto es 'postgres')
spring.datasource.username=postgres

# Contraseña (cambia esto por tu contraseña real)
spring.datasource.password=1234

# Driver de PostgreSQL (no cambiar)
spring.datasource.driver-class-name=org.postgresql.Driver

# --- CONFIGURACIÓN DE JPA/HIBERNATE ---

# DDL AUTO: ¿Qué hace Hibernate con las tablas?
# - create: BORRA y crea tablas cada vez (solo desarrollo inicial)
# - create-drop: Crea al iniciar, borra al cerrar
# - update: Actualiza tablas sin borrar datos (RECOMENDADO para desarrollo)
# - validate: Solo valida que las tablas existen
# - none: No hace nada
spring.jpa.hibernate.ddl-auto=update

# Mostrar SQL en consola (útil para aprender)
# ¿Por qué? Verás exactamente qué queries ejecuta Hibernate
spring.jpa.show-sql=true

# Formatear SQL para que sea legible
spring.jpa.properties.hibernate.format_sql=true

# Dialecto de PostgreSQL (optimiza queries para PostgreSQL)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- CONFIGURACIÓN MULTI-TENANT ---
# Schema del tenant (se pasa por variable de entorno TENANT_SCHEMA)
# Si no se especifica, usa el schema 'public' por defecto
# Ejemplo: TENANT_SCHEMA=tenant_panaderia_el_sol
spring.jpa.properties.hibernate.default_schema=${TENANT_SCHEMA:public}

# --- CONFIGURACIÓN DE LOGGING ---
# Nivel de logs (TRACE, DEBUG, INFO, WARN, ERROR)
logging.level.root=INFO
logging.level.com.nexuspos=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# --- CONFIGURACIÓN DE JACKSON (JSON) ---
# Formato de fechas en JSON
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Bogota

# --- MENSAJES DE ERROR ---
# Incluir mensaje de error en respuestas (solo desarrollo)
server.error.include-message=always
server.error.include-stacktrace=on_param
